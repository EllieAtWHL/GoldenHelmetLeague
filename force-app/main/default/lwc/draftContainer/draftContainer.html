<template>

    <c-comet-d channel="DraftUpdated__e" onmessage={messageReceived}></c-comet-d>

    <c-draft-header if:false={isMobile}></c-draft-header>

    <lightning-spinner if:true={loading}></lightning-spinner>

    <c-draft-ticker if:false={isMobile} ticker-content={tickerPicks}></c-draft-ticker>

    <table if:true={teams}>
        <thead>
            <tr>
                <th>
                </th>
                <template for:each={teams} for:item="team">
                    <th key={team.Team_Name__c}>
                        <img class="logo" src={team.Icon_URL__c}>
                    </th>
                </template>
            </tr>

        </thead>
        <tbody if:true={draft}>
            <template for:each={draft.rounds} for:item="round">
                <tr key={round.roundNumber}>
                    <td class="slds-align_absolute-center round-number">{round.roundNumber}</td>
                    <template for:each={round.picks} for:item="pick">
                        <td if:false={pick.playerPickedName} key={pick.overallPickNumber} class="pick-number">{pick.overallPickNumber}</td>
                        <td if:true={pick.playerPickedName} key={pick.overallPickNumber} class={pick.cssClass}><b>{pick.playerPickedName}</b> </br> {pick.playerPickedTeamAndByeWeek}</td>
                    </template>
                </tr>

            </template>

            <tr>
                <th>
                </th>
                <template for:each={teams} for:item="team">
                    <th key={team.Team_Name__c}>
                        <img class="logo" src={team.Icon_URL__c}>
                    </th>
                </template>
            </tr>

        </tbody>
    </table>

    <c-draft-ticker if:false={isMobile} ticker-content={tickerPicks}></c-draft-ticker>

    <c-draft-header if:false={isMobile}></c-draft-header>
    
</template>